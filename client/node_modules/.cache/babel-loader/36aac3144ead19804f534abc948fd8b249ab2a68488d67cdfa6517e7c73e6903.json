{"ast":null,"code":"import { BubbleMenuPlugin } from '@tiptap/extension-bubble-menu';\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { Editor as Editor$1, NodeView } from '@tiptap/core';\nexport * from '@tiptap/core';\nimport ReactDOM, { flushSync } from 'react-dom';\nimport { FloatingMenuPlugin } from '@tiptap/extension-floating-menu';\nconst BubbleMenu = props => {\n  const [element, setElement] = useState(null);\n  useEffect(() => {\n    if (!element) {\n      return;\n    }\n    if (props.editor.isDestroyed) {\n      return;\n    }\n    const {\n      pluginKey = 'bubbleMenu',\n      editor,\n      tippyOptions = {},\n      updateDelay,\n      shouldShow = null\n    } = props;\n    const plugin = BubbleMenuPlugin({\n      updateDelay,\n      editor,\n      element,\n      pluginKey,\n      shouldShow,\n      tippyOptions\n    });\n    editor.registerPlugin(plugin);\n    return () => editor.unregisterPlugin(pluginKey);\n  }, [props.editor, element]);\n  return React.createElement(\"div\", {\n    ref: setElement,\n    className: props.className,\n    style: {\n      visibility: 'hidden'\n    }\n  }, props.children);\n};\nclass Editor extends Editor$1 {\n  constructor() {\n    super(...arguments);\n    this.contentComponent = null;\n  }\n}\nconst Portals = _ref => {\n  let {\n    renderers\n  } = _ref;\n  return React.createElement(React.Fragment, null, Object.entries(renderers).map(_ref2 => {\n    let [key, renderer] = _ref2;\n    return ReactDOM.createPortal(renderer.reactElement, renderer.element, key);\n  }));\n};\nclass PureEditorContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.editorContentRef = React.createRef();\n    this.initialized = false;\n    this.state = {\n      renderers: {}\n    };\n  }\n  componentDidMount() {\n    this.init();\n  }\n  componentDidUpdate() {\n    this.init();\n  }\n  init() {\n    const {\n      editor\n    } = this.props;\n    if (editor && editor.options.element) {\n      if (editor.contentComponent) {\n        return;\n      }\n      const element = this.editorContentRef.current;\n      element.append(...editor.options.element.childNodes);\n      editor.setOptions({\n        element\n      });\n      editor.contentComponent = this;\n      editor.createNodeViews();\n      this.initialized = true;\n    }\n  }\n  maybeFlushSync(fn) {\n    // Avoid calling flushSync until the editor is initialized.\n    // Initialization happens during the componentDidMount or componentDidUpdate\n    // lifecycle methods, and React doesn't allow calling flushSync from inside\n    // a lifecycle method.\n    if (this.initialized) {\n      queueMicrotask(() => {\n        flushSync(fn);\n      });\n    } else {\n      fn();\n    }\n  }\n  setRenderer(id, renderer) {\n    this.maybeFlushSync(() => {\n      this.setState(_ref3 => {\n        let {\n          renderers\n        } = _ref3;\n        return {\n          renderers: {\n            ...renderers,\n            [id]: renderer\n          }\n        };\n      });\n    });\n  }\n  removeRenderer(id) {\n    this.maybeFlushSync(() => {\n      this.setState(_ref4 => {\n        let {\n          renderers\n        } = _ref4;\n        const nextRenderers = {\n          ...renderers\n        };\n        delete nextRenderers[id];\n        return {\n          renderers: nextRenderers\n        };\n      });\n    });\n  }\n  componentWillUnmount() {\n    const {\n      editor\n    } = this.props;\n    if (!editor) {\n      return;\n    }\n    this.initialized = false;\n    if (!editor.isDestroyed) {\n      editor.view.setProps({\n        nodeViews: {}\n      });\n    }\n    editor.contentComponent = null;\n    if (!editor.options.element.firstChild) {\n      return;\n    }\n    const newElement = document.createElement('div');\n    newElement.append(...editor.options.element.childNodes);\n    editor.setOptions({\n      element: newElement\n    });\n  }\n  render() {\n    const {\n      editor,\n      ...rest\n    } = this.props;\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      ref: this.editorContentRef,\n      ...rest\n    }), React.createElement(Portals, {\n      renderers: this.state.renderers\n    }));\n  }\n}\nconst EditorContent = React.memo(PureEditorContent);\nconst FloatingMenu = props => {\n  const [element, setElement] = useState(null);\n  useEffect(() => {\n    if (!element) {\n      return;\n    }\n    if (props.editor.isDestroyed) {\n      return;\n    }\n    const {\n      pluginKey = 'floatingMenu',\n      editor,\n      tippyOptions = {},\n      shouldShow = null\n    } = props;\n    const plugin = FloatingMenuPlugin({\n      pluginKey,\n      editor,\n      element,\n      tippyOptions,\n      shouldShow\n    });\n    editor.registerPlugin(plugin);\n    return () => editor.unregisterPlugin(pluginKey);\n  }, [props.editor, element]);\n  return React.createElement(\"div\", {\n    ref: setElement,\n    className: props.className,\n    style: {\n      visibility: 'hidden'\n    }\n  }, props.children);\n};\nconst ReactNodeViewContext = createContext({\n  onDragStart: undefined\n});\nconst useReactNodeView = () => useContext(ReactNodeViewContext);\nconst NodeViewContent = props => {\n  const Tag = props.as || 'div';\n  const {\n    nodeViewContentRef\n  } = useReactNodeView();\n  return React.createElement(Tag, {\n    ...props,\n    ref: nodeViewContentRef,\n    \"data-node-view-content\": \"\",\n    style: {\n      whiteSpace: 'pre-wrap',\n      ...props.style\n    }\n  });\n};\nconst NodeViewWrapper = React.forwardRef((props, ref) => {\n  const {\n    onDragStart\n  } = useReactNodeView();\n  const Tag = props.as || 'div';\n  return React.createElement(Tag, {\n    ...props,\n    ref: ref,\n    \"data-node-view-wrapper\": \"\",\n    onDragStart: onDragStart,\n    style: {\n      whiteSpace: 'normal',\n      ...props.style\n    }\n  });\n});\nfunction isClassComponent(Component) {\n  return !!(typeof Component === 'function' && Component.prototype && Component.prototype.isReactComponent);\n}\nfunction isForwardRefComponent(Component) {\n  var _a;\n  return !!(typeof Component === 'object' && ((_a = Component.$$typeof) === null || _a === void 0 ? void 0 : _a.toString()) === 'Symbol(react.forward_ref)');\n}\nclass ReactRenderer {\n  constructor(component, _ref5) {\n    let {\n      editor,\n      props = {},\n      as = 'div',\n      className = ''\n    } = _ref5;\n    this.ref = null;\n    this.id = Math.floor(Math.random() * 0xFFFFFFFF).toString();\n    this.component = component;\n    this.editor = editor;\n    this.props = props;\n    this.element = document.createElement(as);\n    this.element.classList.add('react-renderer');\n    if (className) {\n      this.element.classList.add(...className.split(' '));\n    }\n    this.render();\n  }\n  render() {\n    var _a, _b;\n    const Component = this.component;\n    const props = this.props;\n    if (isClassComponent(Component) || isForwardRefComponent(Component)) {\n      props.ref = ref => {\n        this.ref = ref;\n      };\n    }\n    this.reactElement = React.createElement(Component, {\n      ...props\n    });\n    (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.setRenderer(this.id, this);\n  }\n  updateProps() {\n    let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.props = {\n      ...this.props,\n      ...props\n    };\n    this.render();\n  }\n  destroy() {\n    var _a, _b;\n    (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.removeRenderer(this.id);\n  }\n}\nclass ReactNodeView extends NodeView {\n  mount() {\n    var _this = this;\n    const props = {\n      editor: this.editor,\n      node: this.node,\n      decorations: this.decorations,\n      selected: false,\n      extension: this.extension,\n      getPos: () => this.getPos(),\n      updateAttributes: function () {\n        let attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return _this.updateAttributes(attributes);\n      },\n      deleteNode: () => this.deleteNode()\n    };\n    if (!this.component.displayName) {\n      const capitalizeFirstChar = string => {\n        return string.charAt(0).toUpperCase() + string.substring(1);\n      };\n      this.component.displayName = capitalizeFirstChar(this.extension.name);\n    }\n    const ReactNodeViewProvider = componentProps => {\n      const Component = this.component;\n      const onDragStart = this.onDragStart.bind(this);\n      const nodeViewContentRef = element => {\n        if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\n          element.appendChild(this.contentDOMElement);\n        }\n      };\n      return React.createElement(React.Fragment, null, React.createElement(ReactNodeViewContext.Provider, {\n        value: {\n          onDragStart,\n          nodeViewContentRef\n        }\n      }, React.createElement(Component, {\n        ...componentProps\n      })));\n    };\n    ReactNodeViewProvider.displayName = 'ReactNodeView';\n    this.contentDOMElement = this.node.isLeaf ? null : document.createElement(this.node.isInline ? 'span' : 'div');\n    if (this.contentDOMElement) {\n      // For some reason the whiteSpace prop is not inherited properly in Chrome and Safari\n      // With this fix it seems to work fine\n      // See: https://github.com/ueberdosis/tiptap/issues/1197\n      this.contentDOMElement.style.whiteSpace = 'inherit';\n    }\n    let as = this.node.isInline ? 'span' : 'div';\n    if (this.options.as) {\n      as = this.options.as;\n    }\n    const {\n      className = ''\n    } = this.options;\n    this.renderer = new ReactRenderer(ReactNodeViewProvider, {\n      editor: this.editor,\n      props,\n      as,\n      className: `node-${this.node.type.name} ${className}`.trim()\n    });\n  }\n  get dom() {\n    var _a;\n    if (this.renderer.element.firstElementChild && !((_a = this.renderer.element.firstElementChild) === null || _a === void 0 ? void 0 : _a.hasAttribute('data-node-view-wrapper'))) {\n      throw Error('Please use the NodeViewWrapper component for your node view.');\n    }\n    return this.renderer.element;\n  }\n  get contentDOM() {\n    if (this.node.isLeaf) {\n      return null;\n    }\n    return this.contentDOMElement;\n  }\n  update(node, decorations) {\n    const updateProps = props => {\n      this.renderer.updateProps(props);\n    };\n    if (node.type !== this.node.type) {\n      return false;\n    }\n    if (typeof this.options.update === 'function') {\n      const oldNode = this.node;\n      const oldDecorations = this.decorations;\n      this.node = node;\n      this.decorations = decorations;\n      return this.options.update({\n        oldNode,\n        oldDecorations,\n        newNode: node,\n        newDecorations: decorations,\n        updateProps: () => updateProps({\n          node,\n          decorations\n        })\n      });\n    }\n    if (node === this.node && this.decorations === decorations) {\n      return true;\n    }\n    this.node = node;\n    this.decorations = decorations;\n    updateProps({\n      node,\n      decorations\n    });\n    return true;\n  }\n  selectNode() {\n    this.renderer.updateProps({\n      selected: true\n    });\n  }\n  deselectNode() {\n    this.renderer.updateProps({\n      selected: false\n    });\n  }\n  destroy() {\n    this.renderer.destroy();\n    this.contentDOMElement = null;\n  }\n}\nfunction ReactNodeViewRenderer(component, options) {\n  return props => {\n    // try to get the parent component\n    // this is important for vue devtools to show the component hierarchy correctly\n    // maybe it’s `undefined` because <editor-content> isn’t rendered yet\n    if (!props.editor.contentComponent) {\n      return {};\n    }\n    return new ReactNodeView(component, props, options);\n  };\n}\nfunction useForceUpdate() {\n  const [, setValue] = useState(0);\n  return () => setValue(value => value + 1);\n}\nconst useEditor = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const [editor, setEditor] = useState(null);\n  const forceUpdate = useForceUpdate();\n  useEffect(() => {\n    let isMounted = true;\n    const instance = new Editor(options);\n    setEditor(instance);\n    instance.on('transaction', () => {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          if (isMounted) {\n            forceUpdate();\n          }\n        });\n      });\n    });\n    return () => {\n      instance.destroy();\n      isMounted = false;\n    };\n  }, deps);\n  return editor;\n};\nexport { BubbleMenu, Editor, EditorContent, FloatingMenu, NodeViewContent, NodeViewWrapper, PureEditorContent, ReactNodeViewRenderer, ReactRenderer, useEditor };","map":{"version":3,"names":["BubbleMenu","props","element","setElement","useState","useEffect","editor","isDestroyed","pluginKey","tippyOptions","updateDelay","shouldShow","plugin","BubbleMenuPlugin","registerPlugin","unregisterPlugin","React","createElement","ref","className","style","visibility","children","Editor","Editor$1","constructor","contentComponent","Portals","_ref","renderers","Fragment","Object","entries","map","_ref2","key","renderer","ReactDOM","createPortal","reactElement","PureEditorContent","Component","editorContentRef","createRef","initialized","state","componentDidMount","init","componentDidUpdate","options","current","append","childNodes","setOptions","createNodeViews","maybeFlushSync","fn","queueMicrotask","flushSync","setRenderer","id","setState","_ref3","removeRenderer","_ref4","nextRenderers","componentWillUnmount","view","setProps","nodeViews","firstChild","newElement","document","render","rest","EditorContent","memo","FloatingMenu","FloatingMenuPlugin","ReactNodeViewContext","createContext","onDragStart","undefined","useReactNodeView","useContext","NodeViewContent","Tag","as","nodeViewContentRef","whiteSpace","NodeViewWrapper","forwardRef","isClassComponent","prototype","isReactComponent","isForwardRefComponent","_a","$$typeof","toString","ReactRenderer","component","_ref5","Math","floor","random","classList","add","split","_b","updateProps","arguments","length","destroy","ReactNodeView","NodeView","mount","_this","node","decorations","selected","extension","getPos","updateAttributes","attributes","deleteNode","displayName","capitalizeFirstChar","string","charAt","toUpperCase","substring","name","ReactNodeViewProvider","componentProps","bind","contentDOMElement","appendChild","Provider","value","isLeaf","isInline","type","trim","dom","firstElementChild","hasAttribute","Error","contentDOM","update","oldNode","oldDecorations","newNode","newDecorations","selectNode","deselectNode","ReactNodeViewRenderer","useForceUpdate","setValue","useEditor","deps","setEditor","forceUpdate","isMounted","instance","on","requestAnimationFrame"],"sources":["C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\BubbleMenu.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\Editor.ts","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\EditorContent.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\FloatingMenu.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\useReactNodeView.ts","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\NodeViewContent.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\NodeViewWrapper.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\ReactRenderer.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\ReactNodeViewRenderer.tsx","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\node_modules\\@tiptap\\react\\src\\useEditor.ts"],"sourcesContent":["import { BubbleMenuPlugin, BubbleMenuPluginProps } from '@tiptap/extension-bubble-menu'\nimport React, { useEffect, useState } from 'react'\n\ntype Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>;\n\nexport type BubbleMenuProps = Omit<Optional<BubbleMenuPluginProps, 'pluginKey'>, 'element'> & {\n  className?: string;\n  children: React.ReactNode;\n  updateDelay?: number;\n};\n\nexport const BubbleMenu = (props: BubbleMenuProps) => {\n  const [element, setElement] = useState<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    if (props.editor.isDestroyed) {\n      return\n    }\n\n    const {\n      pluginKey = 'bubbleMenu', editor, tippyOptions = {}, updateDelay, shouldShow = null,\n    } = props\n\n    const plugin = BubbleMenuPlugin({\n      updateDelay,\n      editor,\n      element,\n      pluginKey,\n      shouldShow,\n      tippyOptions,\n    })\n\n    editor.registerPlugin(plugin)\n    return () => editor.unregisterPlugin(pluginKey)\n  }, [props.editor, element])\n\n  return (\n    <div ref={setElement} className={props.className} style={{ visibility: 'hidden' }}>\n      {props.children}\n    </div>\n  )\n}\n","import { Editor as CoreEditor } from '@tiptap/core'\nimport React from 'react'\n\nimport { EditorContentProps, EditorContentState } from './EditorContent'\nimport { ReactRenderer } from './ReactRenderer'\n\ntype ContentComponent = React.Component<EditorContentProps, EditorContentState> & {\n  setRenderer(id: string, renderer: ReactRenderer): void;\n  removeRenderer(id: string): void;\n}\n\nexport class Editor extends CoreEditor {\n  public contentComponent: ContentComponent | null = null\n}\n","import React, { HTMLProps } from 'react'\nimport ReactDOM, { flushSync } from 'react-dom'\n\nimport { Editor } from './Editor'\nimport { ReactRenderer } from './ReactRenderer'\n\nconst Portals: React.FC<{ renderers: Record<string, ReactRenderer> }> = ({ renderers }) => {\n  return (\n    <>\n      {Object.entries(renderers).map(([key, renderer]) => {\n        return ReactDOM.createPortal(renderer.reactElement, renderer.element, key)\n      })}\n    </>\n  )\n}\n\nexport interface EditorContentProps extends HTMLProps<HTMLDivElement> {\n  editor: Editor | null;\n}\n\nexport interface EditorContentState {\n  renderers: Record<string, ReactRenderer>;\n}\n\nexport class PureEditorContent extends React.Component<EditorContentProps, EditorContentState> {\n  editorContentRef: React.RefObject<any>\n\n  initialized: boolean\n\n  constructor(props: EditorContentProps) {\n    super(props)\n    this.editorContentRef = React.createRef()\n    this.initialized = false\n\n    this.state = {\n      renderers: {},\n    }\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  init() {\n    const { editor } = this.props\n\n    if (editor && editor.options.element) {\n      if (editor.contentComponent) {\n        return\n      }\n\n      const element = this.editorContentRef.current\n\n      element.append(...editor.options.element.childNodes)\n\n      editor.setOptions({\n        element,\n      })\n\n      editor.contentComponent = this\n\n      editor.createNodeViews()\n\n      this.initialized = true\n    }\n  }\n\n  maybeFlushSync(fn: () => void) {\n    // Avoid calling flushSync until the editor is initialized.\n    // Initialization happens during the componentDidMount or componentDidUpdate\n    // lifecycle methods, and React doesn't allow calling flushSync from inside\n    // a lifecycle method.\n    if (this.initialized) {\n      queueMicrotask(() => {\n        flushSync(fn)\n      })\n    } else {\n      fn()\n    }\n  }\n\n  setRenderer(id: string, renderer: ReactRenderer) {\n    this.maybeFlushSync(() => {\n      this.setState(({ renderers }) => ({\n        renderers: {\n          ...renderers,\n          [id]: renderer,\n        },\n      }))\n    })\n  }\n\n  removeRenderer(id: string) {\n    this.maybeFlushSync(() => {\n      this.setState(({ renderers }) => {\n        const nextRenderers = { ...renderers }\n\n        delete nextRenderers[id]\n\n        return { renderers: nextRenderers }\n      })\n    })\n  }\n\n  componentWillUnmount() {\n    const { editor } = this.props\n\n    if (!editor) {\n      return\n    }\n\n    this.initialized = false\n\n    if (!editor.isDestroyed) {\n      editor.view.setProps({\n        nodeViews: {},\n      })\n    }\n\n    editor.contentComponent = null\n\n    if (!editor.options.element.firstChild) {\n      return\n    }\n\n    const newElement = document.createElement('div')\n\n    newElement.append(...editor.options.element.childNodes)\n\n    editor.setOptions({\n      element: newElement,\n    })\n  }\n\n  render() {\n    const { editor, ...rest } = this.props\n\n    return (\n      <>\n        <div ref={this.editorContentRef} {...rest} />\n        {/* @ts-ignore */}\n        <Portals renderers={this.state.renderers} />\n      </>\n    )\n  }\n}\n\nexport const EditorContent = React.memo(PureEditorContent)\n","import { FloatingMenuPlugin, FloatingMenuPluginProps } from '@tiptap/extension-floating-menu'\nimport React, {\n  useEffect, useState,\n} from 'react'\n\ntype Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>\n\nexport type FloatingMenuProps = Omit<Optional<FloatingMenuPluginProps, 'pluginKey'>, 'element'> & {\n  className?: string,\n  children: React.ReactNode\n}\n\nexport const FloatingMenu = (props: FloatingMenuProps) => {\n  const [element, setElement] = useState<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    if (props.editor.isDestroyed) {\n      return\n    }\n\n    const {\n      pluginKey = 'floatingMenu',\n      editor,\n      tippyOptions = {},\n      shouldShow = null,\n    } = props\n\n    const plugin = FloatingMenuPlugin({\n      pluginKey,\n      editor,\n      element,\n      tippyOptions,\n      shouldShow,\n    })\n\n    editor.registerPlugin(plugin)\n    return () => editor.unregisterPlugin(pluginKey)\n  }, [\n    props.editor,\n    element,\n  ])\n\n  return (\n    <div ref={setElement} className={props.className} style={{ visibility: 'hidden' }}>\n      {props.children}\n    </div>\n  )\n}\n","import { createContext, useContext } from 'react'\n\nexport interface ReactNodeViewContextProps {\n  onDragStart: (event: DragEvent) => void,\n  nodeViewContentRef: (element: HTMLElement | null) => void,\n}\n\nexport const ReactNodeViewContext = createContext<Partial<ReactNodeViewContextProps>>({\n  onDragStart: undefined,\n})\n\nexport const useReactNodeView = () => useContext(ReactNodeViewContext)\n","import React from 'react'\n\nimport { useReactNodeView } from './useReactNodeView'\n\nexport interface NodeViewContentProps {\n  [key: string]: any,\n  as?: React.ElementType,\n}\n\nexport const NodeViewContent: React.FC<NodeViewContentProps> = props => {\n  const Tag = props.as || 'div'\n  const { nodeViewContentRef } = useReactNodeView()\n\n  return (\n    <Tag\n      {...props}\n      ref={nodeViewContentRef}\n      data-node-view-content=\"\"\n      style={{\n        whiteSpace: 'pre-wrap',\n        ...props.style,\n      }}\n    />\n  )\n}\n","import React from 'react'\n\nimport { useReactNodeView } from './useReactNodeView'\n\nexport interface NodeViewWrapperProps {\n  [key: string]: any,\n  as?: React.ElementType,\n}\n\nexport const NodeViewWrapper: React.FC<NodeViewWrapperProps> = React.forwardRef((props, ref) => {\n  const { onDragStart } = useReactNodeView()\n  const Tag = props.as || 'div'\n\n  return (\n    <Tag\n      {...props}\n      ref={ref}\n      data-node-view-wrapper=\"\"\n      onDragStart={onDragStart}\n      style={{\n        whiteSpace: 'normal',\n        ...props.style,\n      }}\n    />\n  )\n})\n","import { Editor } from '@tiptap/core'\nimport React from 'react'\n\nimport { Editor as ExtendedEditor } from './Editor'\n\nfunction isClassComponent(Component: any) {\n  return !!(\n    typeof Component === 'function'\n    && Component.prototype\n    && Component.prototype.isReactComponent\n  )\n}\n\nfunction isForwardRefComponent(Component: any) {\n  return !!(\n    typeof Component === 'object'\n    && Component.$$typeof?.toString() === 'Symbol(react.forward_ref)'\n  )\n}\n\nexport interface ReactRendererOptions {\n  editor: Editor,\n  props?: Record<string, any>,\n  as?: string,\n  className?: string,\n}\n\ntype ComponentType<R, P> =\n  React.ComponentClass<P> |\n  React.FunctionComponent<P> |\n  React.ForwardRefExoticComponent<React.PropsWithoutRef<P> & React.RefAttributes<R>>;\n\nexport class ReactRenderer<R = unknown, P = unknown> {\n  id: string\n\n  editor: ExtendedEditor\n\n  component: any\n\n  element: Element\n\n  props: Record<string, any>\n\n  reactElement: React.ReactNode\n\n  ref: R | null = null\n\n  constructor(component: ComponentType<R, P>, {\n    editor,\n    props = {},\n    as = 'div',\n    className = '',\n  }: ReactRendererOptions) {\n    this.id = Math.floor(Math.random() * 0xFFFFFFFF).toString()\n    this.component = component\n    this.editor = editor as ExtendedEditor\n    this.props = props\n    this.element = document.createElement(as)\n    this.element.classList.add('react-renderer')\n\n    if (className) {\n      this.element.classList.add(...className.split(' '))\n    }\n\n    this.render()\n  }\n\n  render(): void {\n    const Component = this.component\n    const props = this.props\n\n    if (isClassComponent(Component) || isForwardRefComponent(Component)) {\n      props.ref = (ref: R) => {\n        this.ref = ref\n      }\n    }\n\n    this.reactElement = <Component {...props } />\n\n    this.editor?.contentComponent?.setRenderer(this.id, this)\n  }\n\n  updateProps(props: Record<string, any> = {}): void {\n    this.props = {\n      ...this.props,\n      ...props,\n    }\n\n    this.render()\n  }\n\n  destroy(): void {\n    this.editor?.contentComponent?.removeRenderer(this.id)\n  }\n}\n","import {\n  DecorationWithType,\n  NodeView,\n  NodeViewProps,\n  NodeViewRenderer,\n  NodeViewRendererOptions,\n  NodeViewRendererProps,\n} from '@tiptap/core'\nimport { Node as ProseMirrorNode } from '@tiptap/pm/model'\nimport { Decoration, NodeView as ProseMirrorNodeView } from '@tiptap/pm/view'\nimport React from 'react'\n\nimport { Editor } from './Editor'\nimport { ReactRenderer } from './ReactRenderer'\nimport { ReactNodeViewContext, ReactNodeViewContextProps } from './useReactNodeView'\n\nexport interface ReactNodeViewRendererOptions extends NodeViewRendererOptions {\n  update:\n    | ((props: {\n        oldNode: ProseMirrorNode\n        oldDecorations: Decoration[]\n        newNode: ProseMirrorNode\n        newDecorations: Decoration[]\n        updateProps: () => void\n      }) => boolean)\n    | null\n  as?: string\n  className?: string\n}\n\nclass ReactNodeView extends NodeView<\n  React.FunctionComponent,\n  Editor,\n  ReactNodeViewRendererOptions\n> {\n  renderer!: ReactRenderer\n\n  contentDOMElement!: HTMLElement | null\n\n  mount() {\n    const props: NodeViewProps = {\n      editor: this.editor,\n      node: this.node,\n      decorations: this.decorations,\n      selected: false,\n      extension: this.extension,\n      getPos: () => this.getPos(),\n      updateAttributes: (attributes = {}) => this.updateAttributes(attributes),\n      deleteNode: () => this.deleteNode(),\n    }\n\n    if (!(this.component as any).displayName) {\n      const capitalizeFirstChar = (string: string): string => {\n        return string.charAt(0).toUpperCase() + string.substring(1)\n      }\n\n      this.component.displayName = capitalizeFirstChar(this.extension.name)\n    }\n\n    const ReactNodeViewProvider: React.FunctionComponent = componentProps => {\n      const Component = this.component\n      const onDragStart = this.onDragStart.bind(this)\n      const nodeViewContentRef: ReactNodeViewContextProps['nodeViewContentRef'] = element => {\n        if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\n          element.appendChild(this.contentDOMElement)\n        }\n      }\n\n      return (\n        <>\n          {/* @ts-ignore */}\n          <ReactNodeViewContext.Provider value={{ onDragStart, nodeViewContentRef }}>\n            {/* @ts-ignore */}\n            <Component {...componentProps} />\n          </ReactNodeViewContext.Provider>\n        </>\n      )\n    }\n\n    ReactNodeViewProvider.displayName = 'ReactNodeView'\n\n    this.contentDOMElement = this.node.isLeaf\n      ? null\n      : document.createElement(this.node.isInline ? 'span' : 'div')\n\n    if (this.contentDOMElement) {\n      // For some reason the whiteSpace prop is not inherited properly in Chrome and Safari\n      // With this fix it seems to work fine\n      // See: https://github.com/ueberdosis/tiptap/issues/1197\n      this.contentDOMElement.style.whiteSpace = 'inherit'\n    }\n\n    let as = this.node.isInline ? 'span' : 'div'\n\n    if (this.options.as) {\n      as = this.options.as\n    }\n\n    const { className = '' } = this.options\n\n    this.renderer = new ReactRenderer(ReactNodeViewProvider, {\n      editor: this.editor,\n      props,\n      as,\n      className: `node-${this.node.type.name} ${className}`.trim(),\n    })\n  }\n\n  get dom() {\n    if (\n      this.renderer.element.firstElementChild\n      && !this.renderer.element.firstElementChild?.hasAttribute('data-node-view-wrapper')\n    ) {\n      throw Error('Please use the NodeViewWrapper component for your node view.')\n    }\n\n    return this.renderer.element as HTMLElement\n  }\n\n  get contentDOM() {\n    if (this.node.isLeaf) {\n      return null\n    }\n\n    return this.contentDOMElement\n  }\n\n  update(node: ProseMirrorNode, decorations: DecorationWithType[]) {\n    const updateProps = (props?: Record<string, any>) => {\n      this.renderer.updateProps(props)\n    }\n\n    if (node.type !== this.node.type) {\n      return false\n    }\n\n    if (typeof this.options.update === 'function') {\n      const oldNode = this.node\n      const oldDecorations = this.decorations\n\n      this.node = node\n      this.decorations = decorations\n\n      return this.options.update({\n        oldNode,\n        oldDecorations,\n        newNode: node,\n        newDecorations: decorations,\n        updateProps: () => updateProps({ node, decorations }),\n      })\n    }\n\n    if (node === this.node && this.decorations === decorations) {\n      return true\n    }\n\n    this.node = node\n    this.decorations = decorations\n\n    updateProps({ node, decorations })\n\n    return true\n  }\n\n  selectNode() {\n    this.renderer.updateProps({\n      selected: true,\n    })\n  }\n\n  deselectNode() {\n    this.renderer.updateProps({\n      selected: false,\n    })\n  }\n\n  destroy() {\n    this.renderer.destroy()\n    this.contentDOMElement = null\n  }\n}\n\nexport function ReactNodeViewRenderer(\n  component: any,\n  options?: Partial<ReactNodeViewRendererOptions>,\n): NodeViewRenderer {\n  return (props: NodeViewRendererProps) => {\n    // try to get the parent component\n    // this is important for vue devtools to show the component hierarchy correctly\n    // maybe it’s `undefined` because <editor-content> isn’t rendered yet\n    if (!(props.editor as Editor).contentComponent) {\n      return {}\n    }\n\n    return new ReactNodeView(component, props, options) as unknown as ProseMirrorNodeView\n  }\n}\n","import { EditorOptions } from '@tiptap/core'\nimport { DependencyList, useEffect, useState } from 'react'\n\nimport { Editor } from './Editor'\n\nfunction useForceUpdate() {\n  const [, setValue] = useState(0)\n\n  return () => setValue(value => value + 1)\n}\n\nexport const useEditor = (options: Partial<EditorOptions> = {}, deps: DependencyList = []) => {\n  const [editor, setEditor] = useState<Editor | null>(null)\n  const forceUpdate = useForceUpdate()\n\n  useEffect(() => {\n    let isMounted = true\n\n    const instance = new Editor(options)\n\n    setEditor(instance)\n\n    instance.on('transaction', () => {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          if (isMounted) {\n            forceUpdate()\n          }\n        })\n      })\n    })\n\n    return () => {\n      instance.destroy()\n      isMounted = false\n    }\n  }, deps)\n\n  return editor\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}