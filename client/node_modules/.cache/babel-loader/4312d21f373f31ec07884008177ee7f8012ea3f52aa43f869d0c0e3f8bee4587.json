{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\petew\\\\OneDrive\\\\Desktop\\\\Web Dev Reboot\\\\react-boat-info\\\\client\\\\src\\\\components\\\\displayEditor.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw, convertFromHTML } from 'draft-js';\nimport { stateToHTML } from 'draft-js-export-html';\nimport '../App.css';\nimport '../../node_modules/draft-js/dist/Draft.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass DisplayEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editorState: EditorState.createEmpty(),\n      showPreview: false\n    };\n    this.onChange = editorState => this.setState({\n      editorState\n    });\n    this.loadContent = this.loadContent.bind(this);\n    this.setEditorContent = this.setEditorContent.bind(this);\n    this.contentAsHTML = this.contentAsHTML.bind(this);\n  }\n  loadContent() {\n    const savedData = localStorage.getItem('draftEditorContent');\n    return savedData ? JSON.parse(savedData) : null;\n  }\n  setEditorContent() {\n    const rawEditorData = this.loadContent();\n    if (rawEditorData !== null) {\n      const contentState = convertFromRaw(rawEditorData);\n      const newEditorState = EditorState.createWithContent(contentState);\n      this.setState({\n        editorState: newEditorState\n      });\n    } else {\n      this.setState({\n        editorState: EditorState.createEmpty()\n      });\n    }\n    const p = document.getElementById('checkHTML');\n    this.setState({\n      showPreview: !this.state.showPreview\n    });\n    console.log(stateToHTML(this.state.editorState.getCurrentContent()));\n  }\n  contentAsHTML() {\n    const contentState = this.state.editorState.getCurrentContent();\n    const html = stateToHTML(contentState);\n    return html;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.setEditorContent,\n        children: \"Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), this.state.showPreview ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"displayDiv\",\n          children: /*#__PURE__*/_jsxDEV(Editor, {\n            editorState: this.state.editorState,\n            readOnly: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"checkHTML\",\n          children: this.contentAsHTML()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : null]\n    }, void 0, true);\n  }\n}\n;\nexport default DisplayEditor;","map":{"version":3,"names":["React","useEffect","useState","Editor","EditorState","RichUtils","convertToRaw","convertFromRaw","convertFromHTML","stateToHTML","DisplayEditor","Component","constructor","props","state","editorState","createEmpty","showPreview","onChange","setState","loadContent","bind","setEditorContent","contentAsHTML","savedData","localStorage","getItem","JSON","parse","rawEditorData","contentState","newEditorState","createWithContent","p","document","getElementById","console","log","getCurrentContent","html","render"],"sources":["C:/Users/petew/OneDrive/Desktop/Web Dev Reboot/react-boat-info/client/src/components/displayEditor.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw, convertFromHTML } from 'draft-js';\r\nimport {stateToHTML} from 'draft-js-export-html';\r\nimport '../App.css';\r\nimport '../../node_modules/draft-js/dist/Draft.css';\r\n\r\n\r\nclass DisplayEditor extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            editorState: EditorState.createEmpty(),\r\n            showPreview: false,\r\n        };\r\n        \r\n        this.onChange = (editorState) => this.setState({editorState});\r\n        this.loadContent = this.loadContent.bind(this);\r\n        this.setEditorContent = this.setEditorContent.bind(this);\r\n        this.contentAsHTML = this.contentAsHTML.bind(this);\r\n\r\n    }\r\n\r\n    loadContent(){\r\n        const savedData = localStorage.getItem('draftEditorContent');\r\n        return savedData ? JSON.parse(savedData) : null;\r\n    }\r\n\r\n    setEditorContent(){\r\n        const rawEditorData = this.loadContent();\r\n        if (rawEditorData !== null){\r\n            const contentState = convertFromRaw(rawEditorData);\r\n            const newEditorState = EditorState.createWithContent(contentState);\r\n            this.setState({\r\n                editorState: newEditorState\r\n            })\r\n        } else {\r\n            this.setState({ editorState: EditorState.createEmpty()})\r\n        }\r\n        const p = document.getElementById('checkHTML');\r\n        this.setState({ showPreview: !this.state.showPreview})\r\n        console.log(stateToHTML(this.state.editorState.getCurrentContent()));\r\n    }\r\n\r\n    contentAsHTML(){\r\n        const contentState = this.state.editorState.getCurrentContent();\r\n        const html = stateToHTML(contentState);\r\n        return html;\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <>\r\n            <button onClick={this.setEditorContent}>Preview</button>\r\n            {\r\n                this.state.showPreview ? (\r\n                    <>\r\n                    <div id=\"displayDiv\">\r\n                \r\n                        <Editor \r\n                            editorState={this.state.editorState} \r\n                            readOnly='true'\r\n                        />\r\n                    </div>\r\n                    <p id=\"checkHTML\">{this.contentAsHTML()}</p>\r\n                    </>\r\n                ) : (\r\n\r\n                    null\r\n\r\n                )\r\n            }\r\n            \r\n            </>\r\n        )\r\n    };\r\n\r\n};\r\n\r\nexport default DisplayEditor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}