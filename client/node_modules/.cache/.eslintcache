[{"C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\index.js":"1","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\App.js":"2","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\reportWebVitals.js":"3","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\form.js":"4","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\pageindex.js":"5","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\editor.js":"6","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\displayEditor.js":"7","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\wysiwyg.js":"8"},{"size":535,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":1467,"mtime":1677846586017,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":930,"mtime":1678194512955,"results":"13","hashOfConfig":"10"},{"size":4254,"mtime":1677846668081,"results":"14","hashOfConfig":"10"},{"size":4201,"mtime":1678193916604,"results":"15","hashOfConfig":"10"},{"size":2468,"mtime":1677688769452,"results":"16","hashOfConfig":"10"},{"size":2515,"mtime":1678203376891,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"10qkclh",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"21"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"21"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"21"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"21"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"21"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\index.js",[],[],[],"C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\App.js",["48","49"],[],"import React, { useEffect, useState } from 'react';\r\nimport Form from './components/form.js';\r\nimport PageIndex from './components/pageindex.js';\r\nimport { BrowserRouter, Routes, Route, Link, NavLink } from 'react-router-dom';\r\nimport './App.css';\r\n\r\n\r\nfunction App(){\r\n\r\n    const [submitForm, setSubmitForm] = useState();\r\n    \r\n    function showForm(){\r\n        setSubmitForm(!submitForm);\r\n    }\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <div>\r\n                <header>\r\n                    <nav id=\"navBar\">\r\n                        <h1 id=\"logo\">Piper Info</h1>\r\n                        \r\n                        <div id=\"links\">\r\n                        {submitForm ? (\r\n                            <Link onClick={showForm}> Return</Link>\r\n                        ):(\r\n                            <>\r\n                            <Link className=\"navLink\" to=\"form\" onClick={showForm}>Submit form</Link>\r\n                            <Link className=\"navLink\">Suggest</Link>\r\n                            </>\r\n                        )}\r\n                        </div>\r\n\r\n                    </nav>\r\n                </header>\r\n\r\n\r\n                {submitForm ? (\r\n                <Routes>\r\n                    <Route path=\"form\" element={<Form />}/>\r\n                </Routes>\r\n                ) : (\r\n                    <PageIndex />\r\n                )}\r\n                \r\n            </div>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default App;","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\reportWebVitals.js",[],[],"C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\form.js",["50","51","52"],[],"import React, { useEffect, useState } from 'react';\r\nimport '../../node_modules/draft-js/dist/Draft.css';\r\nimport MyEditor from './editor.js';\r\nimport WysiwygEditor from './wysiwyg';\r\n\r\nfunction Form(props){\r\n\r\n    const [editing, setEditing] = useState(false);\r\n\r\n\r\n    function cancelEdit(){\r\n        setEditing(!editing);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div id=\"formBody\">\r\n            \r\n            \r\n            {props.editing ? (\r\n                <>  \r\n                    <h1>Editing page</h1>\r\n                    <h2>Correct the text below and hit save. Doing so will replace the original page with your ammended one</h2>\r\n\r\n                </>\r\n            ) : (\r\n               <> \r\n                    <h1>Write a new page below</h1>\r\n                    {/* <MyEditor /> */}\r\n\r\n                    <WysiwygEditor />\r\n\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Form;","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\pageindex.js",["53","54","55","56","57","58","59","60","61","62","63","64","65","66","67"],[],"import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter, Routes, Route, h2, NavLink } from 'react-router-dom';\r\nimport '../App.css';\r\nimport Form from './form.js';\r\nimport MyEditor from './editor.js';\r\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw, convertFromHTML } from 'draft-js';\r\nimport {stateToHTML} from 'draft-js-export-html';\r\n\r\nfunction PageIndex(){\r\n\r\n    const [backendData, setBackendData] = useState([{}]);\r\n    const [fileNames, setFileNames] = useState([]);\r\n    const [fileConts, setFileConts] = useState([]);\r\n    const [fileCurr, setFileCurr] = useState('');\r\n    const [edit, setEdit] = useState(false);\r\n    const [jsonCont, setJsonCont] = useState([{}]);\r\n    const [editorState, setEditorState] = useState(EditorState.createEmpty());\r\n    const [bodyHTML, setBodyHTML] = useState(\"\");\r\n    const [fileTitle, setFileTitle] = useState('');\r\n\r\n\r\n    useEffect(()=>{\r\n        fetch(\"/api\")\r\n        .then(\r\n            response => response.json()\r\n        ).then(\r\n            data => {\r\n                setFileNames(Object.keys(data));\r\n                setFileConts(Object.values(data));\r\n            }\r\n            \r\n        );\r\n    }, []);\r\n\r\n\r\n\r\n    function SetPage(e){\r\n        //get current file name and set current file\r\n        setFileCurr(e.target.attributes.fileName.value);\r\n        var fileNametemp = e.target.innerHTML;\r\n        setFileTitle(fileNametemp);\r\n\r\n        //take that file contents and retrieve to HTML\r\n\r\n        const rawEditorData = JSON.parse(fileConts[fileNames.indexOf(e.target.attributes.fileName.value)]);\r\n        if (rawEditorData !== null){\r\n            const contentState = convertFromRaw(rawEditorData);\r\n            const newEditorState = EditorState.createWithContent(contentState);\r\n            setEditorState(newEditorState)        \r\n        };\r\n\r\n    }\r\n\r\n    // set content body here on effect hook to force on re-render\r\n\r\n    useEffect(()=>{\r\n        setContentHTML()\r\n    });\r\n\r\n\r\n    function setContentHTML(){\r\n        const content = editorState.getCurrentContent();\r\n        setBodyHTML(stateToHTML(content));\r\n    }\r\n    \r\n\r\n    // enable editing mode to change contents of existing file\r\n\r\n    function enableEdit(){\r\n        setEdit(!edit);\r\n    }\r\n\r\n    function EditFile(){\r\n        useEffect(()=>{\r\n            fetch(\"/edit\")\r\n            .then(\r\n                response => response.json()\r\n            ).then(\r\n                data => console.log(data)\r\n            )\r\n        })\r\n    }\r\n\r\n    \r\n\r\n\r\n    return (\r\n        <div id=\"container\">\r\n            <div id=\"pageIndex\">\r\n\r\n                        {(fileNames.length === 0) ? (\r\n                            <p>Get started using the 'Submit Form' button in the top right</p>\r\n                        ): (\r\n                            fileNames.map((item, i)=>(\r\n                                <div key={i}>\r\n                                    <h5  className=\"indexLink\" filename={item} onClick={SetPage}>{item.slice(0, -5).replaceAll('-', \" \")}</h5>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n            </div>  \r\n            <div id=\"textPage\">\r\n                {fileCurr === '' ? (\r\n                    <>\r\n                    <h2 id='welcomeTitle'>Welcome to the boat info page, select a file from the left to view info, or use the button at the top to create a new file</h2>\r\n                    </>\r\n                ) : (\r\n                    edit ? (\r\n                        <Form editing='true' fileName={fileNames[fileNames.indexOf(fileCurr)]} fileText={fileConts[fileNames.indexOf(fileCurr)]}/>\r\n                    ) : (\r\n                        <div id=\"infoPageBody\">\r\n                            <h1>\r\n                                {fileTitle}\r\n                            </h1>\r\n                            <button id='editButton' onClick={enableEdit}>Edit text</button>\r\n                            <div id=\"infoPageText\" dangerouslySetInnerHTML={{__html: bodyHTML}}></div>\r\n\r\n                            \r\n                        </div>\r\n                    )\r\n                )\r\n                    }\r\n                \r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default PageIndex","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\editor.js",["68","69","70","71"],[],"import React, { useEffect, useState } from 'react';\r\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport {stateToHTML} from 'draft-js-export-html';\r\nimport '../App.css';\r\nimport '../../node_modules/draft-js/dist/Draft.css';\r\nimport DisplayEditor from './displayEditor.js';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass MyEditor extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            editorState: EditorState.createEmpty()\r\n        };\r\n        this.onChange = (editorState) => this.setState({editorState});\r\n        this.saveContent = this.saveContent.bind(this);\r\n        this.loadcontent = this.loadContent.bind(this);\r\n        this.setEditorContent = this.setEditorContent.bind(this);\r\n        this.gettoHTML = this.gettoHTML.bind(this);\r\n    }\r\n    handleKeyCommand(command){\r\n        const { editorState } = this.state;\r\n        const newState = RichUtils.handleKeyCommand(editorState, command);\r\n        if (newState) {\r\n            this.onChange(newState);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    getRaw(){\r\n        const contentState = this.state.editorState.getCurrentContent();\r\n        const raw = convertToRaw(contentState);\r\n        return JSON.stringify(raw, null, 2);\r\n    }\r\n\r\n    saveContent(){\r\n        const jsontoSave = this.getRaw();\r\n        const input = document.getElementById('hiddenForm');\r\n        input.value = JSON.stringify(jsontoSave);\r\n        localStorage.setItem('draftEditorContent', jsontoSave);\r\n        console.log(\"saved\")\r\n    }\r\n\r\n    loadContent(){\r\n        const savedData = localStorage.getItem('draftEditorContent');\r\n        return savedData ? JSON.parse(savedData) : null;\r\n    }\r\n\r\n    gettoHTML(){\r\n        const contentState = this.state.editorState.getCurrentContent();\r\n        return stateToHTML(contentState);\r\n    }\r\n\r\n    setEditorContent(content){\r\n        const rawEditorData = this.loadContent();\r\n        if (rawEditorData !== null){\r\n            const contentState = convertFromRaw(rawEditorData);\r\n            const newEditorState = EditorState.createWithContent(contentState);\r\n            this.setState({\r\n                editorState: newEditorState\r\n            })\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                <form action=\"http://localhost:5000/rich\" method=\"POST\">\r\n\r\n                    <input id=\"hiddenForm\" name=\"hiddenForm\"></input>\r\n                    <input id=\"nameInput\" name=\"fileName\" placeholder='-- Page Title --'></input>\r\n                    <h5>(The page title will show as the index link for the page)</h5>\r\n\r\n             \r\n                    <div id=\"buttonsDiv\">\r\n                        <button type=\"button\" onClick={()=>this.handleKeyCommand(\"bold\")}><i className=\"fa-solid fa-bold xl\"></i></button>\r\n                        <button type=\"button\" onClick={()=>this.handleKeyCommand(\"italic\")}><i className=\"fa-solid fa-italic\"></i></button>\r\n                        <button type=\"button\" onClick={()=>this.handleKeyCommand(\"underline\")}><i className=\"fa-solid fa-underline\"></i></button>\r\n                        <button type=\"button\" onClick={()=>this.handleKeyCommand(\"code\")}><i className=\"fa-solid fa-code\"></i></button>\r\n                    </div>\r\n\r\n                <div id=\"editorDiv\">\r\n                    \r\n                    <div style={{height: 'inherit'}}>\r\n                        <Editor \r\n                            style={{height: 'inherit'}}\r\n                            editorState={this.state.editorState} \r\n                            onChange={this.onChange} \r\n                            handleKeyCommand={this.handleKeyCommand.bind(this)}\r\n                            placeholder=\"Type out your text body here\"\r\n                            />\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n                {/* <DisplayEditor currentState={this.gettoHTML()}/> <br /> */}\r\n                <button onClick={this.saveContent}>Save</button> <br />\r\n                </form>\r\n                \r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default MyEditor;","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\displayEditor.js",["72","73","74","75","76","77","78"],[],"import React, { useEffect, useState } from 'react';\r\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw, convertFromHTML } from 'draft-js';\r\nimport {stateToHTML} from 'draft-js-export-html';\r\nimport '../App.css';\r\nimport '../../node_modules/draft-js/dist/Draft.css';\r\n\r\n\r\nclass DisplayEditor extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            editorState: EditorState.createEmpty(),\r\n            showPreview: false,\r\n        };\r\n        \r\n        this.onChange = (editorState) => this.setState({editorState});\r\n        this.loadContent = this.loadContent.bind(this);\r\n        this.setEditorContent = this.setEditorContent.bind(this);\r\n        this.contentAsHTML = this.contentAsHTML.bind(this);\r\n\r\n    }\r\n\r\n    loadContent(){\r\n        const savedData = localStorage.getItem('draftEditorContent');\r\n        return savedData ? JSON.parse(savedData) : null;\r\n    }\r\n\r\n    setEditorContent(){\r\n        const rawEditorData = this.loadContent();\r\n        if (rawEditorData !== null){\r\n            const contentState = convertFromRaw(rawEditorData);\r\n            const newEditorState = EditorState.createWithContent(contentState);\r\n            this.setState({\r\n                editorState: newEditorState\r\n            })\r\n        } else {\r\n            this.setState({ editorState: EditorState.createEmpty()})\r\n        }\r\n        const p = document.getElementById('checkHTML');\r\n        this.setState({ showPreview: !this.state.showPreview})\r\n    }\r\n\r\n    contentAsHTML(){\r\n        const contentState = this.state.editorState.getCurrentContent();\r\n        const html = stateToHTML(contentState);\r\n        console.log(convertFromRaw(contentState))\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <>\r\n            <button onClick={this.setEditorContent}>Preview</button>\r\n            {\r\n                this.state.showPreview ? (\r\n                    <>\r\n                    <div id=\"displayDiv\">\r\n                \r\n                        <Editor \r\n                            editorState={this.state.editorState} \r\n                            readOnly='true'\r\n                        />\r\n                    </div>\r\n                    <p id=\"checkHTML\">{this.contentAsHTML()}</p>\r\n                    </>\r\n                ) : (\r\n\r\n                    null\r\n\r\n                )\r\n            }\r\n            \r\n            </>\r\n        )\r\n    };\r\n\r\n};\r\n\r\nexport default DisplayEditor;","C:\\Users\\petew\\OneDrive\\Desktop\\Web Dev Reboot\\react-boat-info\\client\\src\\components\\wysiwyg.js",[],[],{"ruleId":"79","severity":1,"message":"80","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":26},{"ruleId":"79","severity":1,"message":"83","line":4,"column":46,"nodeType":"81","messageId":"82","endLine":4,"endColumn":53},{"ruleId":"79","severity":1,"message":"80","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":26},{"ruleId":"79","severity":1,"message":"84","line":3,"column":8,"nodeType":"81","messageId":"82","endLine":3,"endColumn":16},{"ruleId":"79","severity":1,"message":"85","line":11,"column":14,"nodeType":"81","messageId":"82","endLine":11,"endColumn":24},{"ruleId":"79","severity":1,"message":"86","line":2,"column":10,"nodeType":"81","messageId":"82","endLine":2,"endColumn":23},{"ruleId":"79","severity":1,"message":"87","line":2,"column":25,"nodeType":"81","messageId":"82","endLine":2,"endColumn":31},{"ruleId":"79","severity":1,"message":"88","line":2,"column":33,"nodeType":"81","messageId":"82","endLine":2,"endColumn":38},{"ruleId":"79","severity":1,"message":"89","line":2,"column":40,"nodeType":"81","messageId":"82","endLine":2,"endColumn":42},{"ruleId":"79","severity":1,"message":"83","line":2,"column":44,"nodeType":"81","messageId":"82","endLine":2,"endColumn":51},{"ruleId":"79","severity":1,"message":"84","line":5,"column":8,"nodeType":"81","messageId":"82","endLine":5,"endColumn":16},{"ruleId":"79","severity":1,"message":"90","line":6,"column":10,"nodeType":"81","messageId":"82","endLine":6,"endColumn":16},{"ruleId":"79","severity":1,"message":"91","line":6,"column":31,"nodeType":"81","messageId":"82","endLine":6,"endColumn":40},{"ruleId":"79","severity":1,"message":"92","line":6,"column":42,"nodeType":"81","messageId":"82","endLine":6,"endColumn":54},{"ruleId":"79","severity":1,"message":"93","line":6,"column":72,"nodeType":"81","messageId":"82","endLine":6,"endColumn":87},{"ruleId":"79","severity":1,"message":"94","line":11,"column":12,"nodeType":"81","messageId":"82","endLine":11,"endColumn":23},{"ruleId":"79","severity":1,"message":"95","line":11,"column":25,"nodeType":"81","messageId":"82","endLine":11,"endColumn":39},{"ruleId":"79","severity":1,"message":"96","line":16,"column":12,"nodeType":"81","messageId":"82","endLine":16,"endColumn":20},{"ruleId":"79","severity":1,"message":"97","line":16,"column":22,"nodeType":"81","messageId":"82","endLine":16,"endColumn":33},{"ruleId":"79","severity":1,"message":"98","line":73,"column":14,"nodeType":"81","messageId":"82","endLine":73,"endColumn":22},{"ruleId":"79","severity":1,"message":"80","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":26},{"ruleId":"79","severity":1,"message":"99","line":1,"column":28,"nodeType":"81","messageId":"82","endLine":1,"endColumn":36},{"ruleId":"79","severity":1,"message":"100","line":6,"column":8,"nodeType":"81","messageId":"82","endLine":6,"endColumn":21},{"ruleId":"79","severity":1,"message":"101","line":7,"column":10,"nodeType":"81","messageId":"82","endLine":7,"endColumn":25},{"ruleId":"79","severity":1,"message":"80","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":26},{"ruleId":"79","severity":1,"message":"99","line":1,"column":28,"nodeType":"81","messageId":"82","endLine":1,"endColumn":36},{"ruleId":"79","severity":1,"message":"91","line":2,"column":31,"nodeType":"81","messageId":"82","endLine":2,"endColumn":40},{"ruleId":"79","severity":1,"message":"92","line":2,"column":42,"nodeType":"81","messageId":"82","endLine":2,"endColumn":54},{"ruleId":"79","severity":1,"message":"93","line":2,"column":72,"nodeType":"81","messageId":"82","endLine":2,"endColumn":87},{"ruleId":"79","severity":1,"message":"102","line":40,"column":15,"nodeType":"81","messageId":"82","endLine":40,"endColumn":16},{"ruleId":"79","severity":1,"message":"103","line":46,"column":15,"nodeType":"81","messageId":"82","endLine":46,"endColumn":19},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'NavLink' is defined but never used.","'MyEditor' is defined but never used.","'cancelEdit' is defined but never used.","'BrowserRouter' is defined but never used.","'Routes' is defined but never used.","'Route' is defined but never used.","'h2' is defined but never used.","'Editor' is defined but never used.","'RichUtils' is defined but never used.","'convertToRaw' is defined but never used.","'convertFromHTML' is defined but never used.","'backendData' is assigned a value but never used.","'setBackendData' is assigned a value but never used.","'jsonCont' is assigned a value but never used.","'setJsonCont' is assigned a value but never used.","'EditFile' is defined but never used.","'useState' is defined but never used.","'DisplayEditor' is defined but never used.","'FontAwesomeIcon' is defined but never used.","'p' is assigned a value but never used.","'html' is assigned a value but never used."]