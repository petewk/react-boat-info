{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\petew\\\\OneDrive\\\\Desktop\\\\Web Dev Reboot\\\\react-boat-info\\\\client\\\\src\\\\components\\\\wysiwyg.js\";\nimport React, { Component } from \"react\";\nimport { useEffect, useState } from 'react';\nimport { render } from \"react-dom\";\nimport { EditorState } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass WysiwygEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editorState: EditorState.createEmpty()\n    };\n    this.uploadImageCallBack = this.uploadImageCallBack.bind(this);\n  }\n  onEditorStateChange(editorState) {\n    this.setState({\n      editorState\n    });\n  }\n  uploadImageCallBack(file) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", \"https://api.imgur.com/3/image\");\n      xhr.setRequestHeader(\"Authorization\", \"Client-ID ##clientid###\");\n      const data = new FormData();\n      data.append(\"image\", file);\n      xhr.send(data);\n      xhr.addEventListener(\"load\", () => {\n        const response = JSON.parse(xhr.responseText);\n        console.log(response);\n        resolve(response);\n      });\n      xhr.addEventListener(\"error\", () => {\n        const error = JSON.parse(xhr.responseText);\n        console.log(error);\n        reject(error);\n      });\n    });\n  }\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor\",\n      children: /*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        onEditorStateChange: this.onEditorStateChange,\n        toolbar: {\n          inline: {\n            inDropdown: true\n          },\n          list: {\n            inDropdown: true\n          },\n          textAlign: {\n            inDropdown: true\n          },\n          link: {\n            inDropdown: true\n          },\n          history: {\n            inDropdown: true\n          },\n          image: {\n            uploadCallback: this.uploadImageCallBack(),\n            alt: {\n              present: true,\n              mandatory: true\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default WysiwygEditor;","map":{"version":3,"names":["React","Component","useEffect","useState","render","EditorState","Editor","WysiwygEditor","constructor","props","state","editorState","createEmpty","uploadImageCallBack","bind","onEditorStateChange","setState","file","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","data","FormData","append","send","addEventListener","response","JSON","parse","responseText","console","log","error","inline","inDropdown","list","textAlign","link","history","image","uploadCallback","alt","present","mandatory"],"sources":["C:/Users/petew/OneDrive/Desktop/Web Dev Reboot/react-boat-info/client/src/components/wysiwyg.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { useEffect, useState } from 'react';\r\nimport { render } from \"react-dom\";\r\nimport { EditorState } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\n \r\nclass WysiwygEditor extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        editorState: EditorState.createEmpty(),\r\n      };\r\n\r\n      this.uploadImageCallBack = this.uploadImageCallBack.bind(this);\r\n    }\r\n   \r\n    onEditorStateChange(editorState){\r\n      this.setState({\r\n        editorState,\r\n      });\r\n    };\r\n\r\n    uploadImageCallBack(file){\r\n        return new Promise((resolve, reject) => {\r\n          const xhr = new XMLHttpRequest();\r\n          xhr.open(\"POST\", \"https://api.imgur.com/3/image\");\r\n          xhr.setRequestHeader(\"Authorization\", \"Client-ID ##clientid###\");\r\n          const data = new FormData();\r\n          data.append(\"image\", file);\r\n          xhr.send(data);\r\n          xhr.addEventListener(\"load\", () => {\r\n            const response = JSON.parse(xhr.responseText);\r\n            console.log(response);\r\n            resolve(response);\r\n          });\r\n          xhr.addEventListener(\"error\", () => {\r\n            const error = JSON.parse(xhr.responseText);\r\n            console.log(error);\r\n            reject(error);\r\n          });\r\n        });\r\n      }\r\n   \r\n    render() {\r\n      const { editorState } = this.state;\r\n      return (\r\n        <div className=\"editor\">\r\n          <Editor\r\n            editorState={editorState}\r\n            onEditorStateChange={this.onEditorStateChange}\r\n            toolbar={{\r\n              inline: { inDropdown: true },\r\n              list: { inDropdown: true },\r\n              textAlign: { inDropdown: true },\r\n              link: { inDropdown: true },\r\n              history: { inDropdown: true },\r\n              image: {\r\n                uploadCallback: this.uploadImageCallBack(),\r\n                alt: { present: true, mandatory: true },\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default WysiwygEditor;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,WAAW;AAClC,SAASC,WAAW,QAAQ,UAAU;AACtC,SAASC,MAAM,QAAQ,qBAAqB;AAAC;AAE7C,MAAMC,aAAa,SAASN,SAAS,CAAC;EAClCO,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACXC,WAAW,EAAEN,WAAW,CAACO,WAAW;IACtC,CAAC;IAED,IAAI,CAACC,mBAAmB,GAAG,IAAI,CAACA,mBAAmB,CAACC,IAAI,CAAC,IAAI,CAAC;EAChE;EAEAC,mBAAmB,CAACJ,WAAW,EAAC;IAC9B,IAAI,CAACK,QAAQ,CAAC;MACZL;IACF,CAAC,CAAC;EACJ;EAEAE,mBAAmB,CAACI,IAAI,EAAC;IACrB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,MAAMC,GAAG,GAAG,IAAIC,cAAc,EAAE;MAChCD,GAAG,CAACE,IAAI,CAAC,MAAM,EAAE,+BAA+B,CAAC;MACjDF,GAAG,CAACG,gBAAgB,CAAC,eAAe,EAAE,yBAAyB,CAAC;MAChE,MAAMC,IAAI,GAAG,IAAIC,QAAQ,EAAE;MAC3BD,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEV,IAAI,CAAC;MAC1BI,GAAG,CAACO,IAAI,CAACH,IAAI,CAAC;MACdJ,GAAG,CAACQ,gBAAgB,CAAC,MAAM,EAAE,MAAM;QACjC,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACX,GAAG,CAACY,YAAY,CAAC;QAC7CC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;QACrBX,OAAO,CAACW,QAAQ,CAAC;MACnB,CAAC,CAAC;MACFT,GAAG,CAACQ,gBAAgB,CAAC,OAAO,EAAE,MAAM;QAClC,MAAMO,KAAK,GAAGL,IAAI,CAACC,KAAK,CAACX,GAAG,CAACY,YAAY,CAAC;QAC1CC,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;QAClBhB,MAAM,CAACgB,KAAK,CAAC;MACf,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEFhC,MAAM,GAAG;IACP,MAAM;MAAEO;IAAY,CAAC,GAAG,IAAI,CAACD,KAAK;IAClC,oBACE;MAAK,SAAS,EAAC,QAAQ;MAAA,uBACrB,QAAC,MAAM;QACL,WAAW,EAAEC,WAAY;QACzB,mBAAmB,EAAE,IAAI,CAACI,mBAAoB;QAC9C,OAAO,EAAE;UACPsB,MAAM,EAAE;YAAEC,UAAU,EAAE;UAAK,CAAC;UAC5BC,IAAI,EAAE;YAAED,UAAU,EAAE;UAAK,CAAC;UAC1BE,SAAS,EAAE;YAAEF,UAAU,EAAE;UAAK,CAAC;UAC/BG,IAAI,EAAE;YAAEH,UAAU,EAAE;UAAK,CAAC;UAC1BI,OAAO,EAAE;YAAEJ,UAAU,EAAE;UAAK,CAAC;UAC7BK,KAAK,EAAE;YACLC,cAAc,EAAE,IAAI,CAAC/B,mBAAmB,EAAE;YAC1CgC,GAAG,EAAE;cAAEC,OAAO,EAAE,IAAI;cAAEC,SAAS,EAAE;YAAK;UACxC;QACF;MAAE;QAAA;QAAA;QAAA;MAAA;IACF;MAAA;MAAA;MAAA;IAAA,QACE;EAEV;AACF;AAEF,eAAexC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}